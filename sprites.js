// sprites.js â€” ForkArcade pixel art sprites
// Generated from _sprites.json by create_sprite tool

var SPRITE_DEFS = {
  "player": {
    "core": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#005566",
        "C": "#00ffff",
        "w": "#ffffff",
        "c": "#008888"
      },
      "frames": [
        [
          "ffffffff",
          "f.cCCc.f",
          "f.CwwC.f",
          "fcCwwCcf",
          "fcCwwCcf",
          "f.CwwC.f",
          "f.cCCc.f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "engine": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#115511",
        "G": "#44ff44",
        "g": "#228822",
        "d": "#116611"
      },
      "frames": [
        [
          "ffffffff",
          "f..GG..f",
          "f.gGGg.f",
          "f.GGGG.f",
          "f.GddG.f",
          "f.gddg.f",
          "f..dd..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "engineActive": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#115511",
        "G": "#44ff44",
        "g": "#228822",
        "c": "#00ffff",
        "w": "#ffffff"
      },
      "frames": [
        [
          "ffffffff",
          "f..GG..f",
          "f.gGGg.f",
          "f.GGGG.f",
          "f.GccG.f",
          "f.cwwc.f",
          "f..cw..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "gun": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#442244",
        "M": "#ff44ff",
        "m": "#882288",
        "w": "#ffffff"
      },
      "frames": [
        [
          "ffffffff",
          "f..ww..f",
          "f..MM..f",
          "f.MMMM.f",
          "f.mMMm.f",
          "f.mMMm.f",
          "f..mm..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "cargo": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#444411",
        "Y": "#eeff44",
        "y": "#888822",
        "w": "#ffffff"
      },
      "frames": [
        [
          "ffffffff",
          "f.yYYy.f",
          "f.YwwY.f",
          "f.YYYY.f",
          "f.YYYY.f",
          "f.yYYy.f",
          "f..yy..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "shield": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#112255",
        "B": "#4488ff",
        "b": "#2244aa",
        "w": "#88bbff"
      },
      "frames": [
        [
          "ffffffff",
          "f.bBBb.f",
          "f.BwwB.f",
          "fbBwwBbf",
          "fbBwwBbf",
          "f.BwwB.f",
          "f.bBBb.f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    }
  },
  "enemies": {
    "core": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#553311",
        "O": "#ff8844",
        "o": "#884422",
        "w": "#ffcc88"
      },
      "frames": [
        [
          "ffffffff",
          "f.oOOo.f",
          "f.OwwO.f",
          "foOwwOof",
          "foOwwOof",
          "f.OwwO.f",
          "f.oOOo.f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "engine": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#224411",
        "G": "#88ff44",
        "g": "#448822",
        "d": "#336611"
      },
      "frames": [
        [
          "ffffffff",
          "f..GG..f",
          "f.gGGg.f",
          "f.GGGG.f",
          "f.GddG.f",
          "f.gddg.f",
          "f..dd..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "gun": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#441111",
        "R": "#ff4444",
        "r": "#882222",
        "w": "#ffaaaa"
      },
      "frames": [
        [
          "ffffffff",
          "f..ww..f",
          "f..RR..f",
          "f.RRRR.f",
          "f.rRRr.f",
          "f.rRRr.f",
          "f..rr..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "cargo": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#444411",
        "Y": "#ccdd44",
        "y": "#666622"
      },
      "frames": [
        [
          "ffffffff",
          "f.yYYy.f",
          "f.YYYY.f",
          "f.YYYY.f",
          "f.YYYY.f",
          "f.yYYy.f",
          "f..yy..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "shield": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#112255",
        "B": "#4488ff",
        "b": "#2244aa",
        "g": "#6699ff"
      },
      "frames": [
        [
          "ffffffff",
          "f.bBBb.f",
          "f.BggB.f",
          "fbBggBbf",
          "fbBggBbf",
          "f.BggB.f",
          "f.bBBb.f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    }
  },
  "effects": {
    "bullet": {
      "w": 8,
      "h": 8,
      "palette": {
        "C": "#00ffff",
        "c": "#008888",
        "w": "#ffffff"
      },
      "frames": [
        [
          "...w....",
          "...C....",
          "..CCC...",
          "...C....",
          "...c....",
          "...c....",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "explosion": {
      "w": 8,
      "h": 8,
      "palette": {
        "R": "#ff4400",
        "Y": "#ffaa00",
        "W": "#ffffff"
      },
      "frames": [
        [
          "..R..Y..",
          ".RYYWYR.",
          "R.YWWY.R",
          ".YWWWWY.",
          ".YWWWWY.",
          "R.YWWY.R",
          ".RYYWYR.",
          "..Y..R.."
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "flame": {
      "w": 8,
      "h": 8,
      "palette": {
        "C": "#00ffff",
        "c": "#008888",
        "w": "#ffffff"
      },
      "frames": [
        [
          "..ww....",
          ".cCCc...",
          ".CwwC...",
          "cCwwCc..",
          ".CccC...",
          "..cc....",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "sparks": {
      "w": 8,
      "h": 8,
      "palette": {
        "Y": "#ffff44",
        "W": "#ffffff",
        "y": "#aa8800"
      },
      "frames": [
        [
          "Y.......",
          "..W....Y",
          "........",
          "...Y....",
          ".W....y.",
          "........",
          "....W...",
          ".y.....Y"
        ]
      ],
      "origin": [
        0,
        0
      ]
    }
  },
  "items": {
    "floatingCore": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#223333",
        "C": "#668888",
        "c": "#445555",
        "w": "#889999"
      },
      "frames": [
        [
          "ffffffff",
          "f.cCCc.f",
          "f.CwwC.f",
          "fcCwwCcf",
          "fcCwwCcf",
          "f.CwwC.f",
          "f.cCCc.f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "floatingEngine": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#223322",
        "G": "#668866",
        "g": "#445544",
        "d": "#334433"
      },
      "frames": [
        [
          "ffffffff",
          "f..GG..f",
          "f.gGGg.f",
          "f.GGGG.f",
          "f.GddG.f",
          "f.gddg.f",
          "f..dd..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "floatingGun": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#332233",
        "M": "#886688",
        "m": "#554455",
        "w": "#998899"
      },
      "frames": [
        [
          "ffffffff",
          "f..ww..f",
          "f..MM..f",
          "f.MMMM.f",
          "f.mMMm.f",
          "f.mMMm.f",
          "f..mm..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "floatingCargo": {
      "w": 8,
      "h": 8,
      "palette": {
        "f": "#333322",
        "Y": "#888866",
        "y": "#555544"
      },
      "frames": [
        [
          "ffffffff",
          "f.yYYy.f",
          "f.YYYY.f",
          "f.YYYY.f",
          "f.YYYY.f",
          "f.yYYy.f",
          "f..yy..f",
          "ffffffff"
        ]
      ],
      "origin": [
        0,
        0
      ]
    }
  },
  "ui": {
    "face_light": {
      "w": 8,
      "h": 8,
      "palette": {
        "s": "#e8c4a0",
        "d": "#c49870",
        "e": "#4ef0f0",
        "w": "#ffffff",
        "m": "#884444"
      },
      "frames": [
        [
          "..ssss..",
          ".ssssss.",
          ".sewwes.",
          ".ssssss.",
          ".s.mm.s.",
          ".ssssss.",
          "..dddd..",
          "..dssd.."
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "face_medium": {
      "w": 8,
      "h": 8,
      "palette": {
        "s": "#c68c5a",
        "d": "#a06830",
        "e": "#4ef0f0",
        "w": "#ffffff",
        "m": "#663333"
      },
      "frames": [
        [
          "..ssss..",
          ".ssssss.",
          ".sewwes.",
          ".ssssss.",
          ".s.mm.s.",
          ".ssssss.",
          "..dddd..",
          "..dssd.."
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "face_dark": {
      "w": 8,
      "h": 8,
      "palette": {
        "s": "#8d5c3a",
        "d": "#6b4226",
        "e": "#4ef0f0",
        "w": "#ffffff",
        "m": "#442222"
      },
      "frames": [
        [
          "..ssss..",
          ".ssssss.",
          ".sewwes.",
          ".ssssss.",
          ".s.mm.s.",
          ".ssssss.",
          "..dddd..",
          "..dssd.."
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "helm_blue": {
      "w": 8,
      "h": 8,
      "palette": {
        "h": "#2a3a5a",
        "H": "#3a5a8a",
        "g": "#4a6a9a"
      },
      "frames": [
        [
          ".hHHHHh.",
          "hHHggHHh",
          "h......h",
          "h......h",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "helm_green": {
      "w": 8,
      "h": 8,
      "palette": {
        "h": "#2a4a3a",
        "H": "#3a6a4a",
        "g": "#4a8a5a"
      },
      "frames": [
        [
          ".hHHHHh.",
          "hHHggHHh",
          "h......h",
          "h......h",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "helm_dark": {
      "w": 8,
      "h": 8,
      "palette": {
        "h": "#3a3a3a",
        "H": "#555555",
        "g": "#666666"
      },
      "frames": [
        [
          ".hHHHHh.",
          "hHHggHHh",
          "h......h",
          "h......h",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "visor_cyan": {
      "w": 8,
      "h": 8,
      "palette": {
        "v": "#00ffff",
        "V": "#88ffff"
      },
      "frames": [
        [
          "........",
          "........",
          ".vVVVVv.",
          "........",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "visor_magenta": {
      "w": 8,
      "h": 8,
      "palette": {
        "v": "#ff44ff",
        "V": "#ff88ff"
      },
      "frames": [
        [
          "........",
          "........",
          ".vVVVVv.",
          "........",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "visor_orange": {
      "w": 8,
      "h": 8,
      "palette": {
        "v": "#ff8800",
        "V": "#ffaa44"
      },
      "frames": [
        [
          "........",
          "........",
          ".vVVVVv.",
          "........",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "implant_red": {
      "w": 8,
      "h": 8,
      "palette": {
        "i": "#ff4444",
        "I": "#ff8888",
        "w": "#ffffff"
      },
      "frames": [
        [
          "........",
          "........",
          "....iIi.",
          ".....Iw.",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "implant_cyan": {
      "w": 8,
      "h": 8,
      "palette": {
        "i": "#00ffff",
        "I": "#88ffff",
        "w": "#ffffff"
      },
      "frames": [
        [
          "........",
          "........",
          "....iIi.",
          ".....Iw.",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "scar": {
      "w": 8,
      "h": 8,
      "palette": {
        "x": "#ff6688"
      },
      "frames": [
        [
          "........",
          "..x.....",
          "...x....",
          "...x....",
          "....x...",
          "....x...",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "breather": {
      "w": 8,
      "h": 8,
      "palette": {
        "b": "#333333",
        "B": "#555555",
        "p": "#222222"
      },
      "frames": [
        [
          "........",
          "........",
          "........",
          "........",
          ".bBBBBb.",
          ".bpbpbb.",
          "b......b",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "mohawk_yellow": {
      "w": 8,
      "h": 8,
      "palette": {
        "M": "#ffff00",
        "m": "#ccaa00"
      },
      "frames": [
        [
          "..mMm...",
          "..MMM...",
          "........",
          "........",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "mohawk_cyan": {
      "w": 8,
      "h": 8,
      "palette": {
        "M": "#00ffff",
        "m": "#008888"
      },
      "frames": [
        [
          "..mMm...",
          "..MMM...",
          "........",
          "........",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "mohawk_magenta": {
      "w": 8,
      "h": 8,
      "palette": {
        "M": "#ff44ff",
        "m": "#882288"
      },
      "frames": [
        [
          "..mMm...",
          "..MMM...",
          "........",
          "........",
          "........",
          "........",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "frame_cyborg": {
      "w": 8,
      "h": 8,
      "palette": {
        "r": "#ff4444"
      },
      "frames": [
        [
          "rr.rr.rr",
          "........",
          ".......r",
          "........",
          "........",
          "r.......",
          "........",
          "rr.rr.rr"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "frame_normal": {
      "w": 8,
      "h": 8,
      "palette": {
        "r": "#1a3a5a"
      },
      "frames": [
        [
          "rrrrrrrr",
          "r......r",
          "r......r",
          "r......r",
          "r......r",
          "r......r",
          "r......r",
          "rrrrrrrr"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "gridSlot": {
      "w": 8,
      "h": 8,
      "palette": {
        "g": "#1a2a3a"
      },
      "frames": [
        [
          "gggggggg",
          "g......g",
          "g......g",
          "g......g",
          "g......g",
          "g......g",
          "g......g",
          "gggggggg"
        ]
      ],
      "origin": [
        0,
        0
      ]
    },
    "indicator": {
      "w": 8,
      "h": 8,
      "palette": {
        "R": "#ff8844",
        "r": "#884422",
        "w": "#ffcc88"
      },
      "frames": [
        [
          "........",
          "...wR...",
          "..wRRR..",
          ".wRRRRR.",
          "..wRRR..",
          "...wR...",
          "........",
          "........"
        ]
      ],
      "origin": [
        0,
        0
      ]
    }
  }
}

function drawSprite(ctx, spriteDef, x, y, size, frame) {
  if (!spriteDef) return false
  frame = frame || 0
  frame = frame % spriteDef.frames.length
  var key = size + '_' + frame
  if (!spriteDef._c) spriteDef._c = {}
  if (!spriteDef._c[key]) {
    var cv = document.createElement('canvas')
    cv.width = size
    cv.height = size
    var cc = cv.getContext('2d')
    var pixels = spriteDef.frames[frame]
    var pw = size / spriteDef.w
    var ph = size / spriteDef.h
    for (var row = 0; row < spriteDef.h; row++) {
      var line = pixels[row]
      for (var col = 0; col < spriteDef.w; col++) {
        var ch = line[col]
        if (ch === ".") continue
        var color = spriteDef.palette[ch]
        if (!color) continue
        cc.fillStyle = color
        cc.fillRect(col * pw, row * ph, Math.ceil(pw), Math.ceil(ph))
      }
    }
    spriteDef._c[key] = cv
  }
  var ox = spriteDef.origin[0] * (size / spriteDef.w)
  var oy = spriteDef.origin[1] * (size / spriteDef.h)
  ctx.drawImage(spriteDef._c[key], x - ox, y - oy)
  return true
}

function getSprite(category, name) {
  return SPRITE_DEFS[category] && SPRITE_DEFS[category][name] || null
}

function spriteFrames(spriteDef) {
  return spriteDef ? spriteDef.frames.length : 0
}
